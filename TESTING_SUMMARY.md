# –ò—Ç–æ–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–°–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- `FINAL_TESTING_GUIDE.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `TESTING_CHECKLIST.md` - —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- `test_backend_api.py` - Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- `test_frontend.html` - HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- `quick_test.bat` - –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —á–µ—Ä–µ–∑ curl

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
docker-compose up --build
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
```bash
docker-compose ps
```

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ `Up`:
- ‚úÖ `api` (–ø–æ—Ä—Ç 8000)
- ‚úÖ `frontend` (–ø–æ—Ä—Ç 3000)
- ‚úÖ `db` (–ø–æ—Ä—Ç 5432)
- ‚úÖ `redis` (–ø–æ—Ä—Ç 6379)
- ‚úÖ `worker`

### 2. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–µ–Ω–¥–∞

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
1. –û—Ç–∫—Ä–æ–π—Ç–µ **http://localhost:8000/docs**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ endpoints –≤–∏–¥–Ω—ã
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `GET /api/health` - –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 200

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ curl
```bash
# Health check
curl http://localhost:8000/api/health

# –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
curl http://localhost:8000/api/documents

# –ü–æ–∏—Å–∫
curl "http://localhost:8000/api/search?q=test&limit=10"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** JSON –æ—Ç–≤–µ—Ç—ã, **–ù–ï 401/403**

#### –í–∞—Ä–∏–∞–Ω—Ç C: –ß–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç
```bash
cd backend
python test_backend_api.py
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ **http://localhost:3000**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - ‚úÖ –ù–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ `/login`
   - ‚úÖ URL –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ `/dashboard`
   - ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ù–ï–¢:**
   - ‚ùå `401 Unauthorized`
   - ‚ùå `403 Forbidden`
   - ‚ùå `user is not defined`
   - ‚ùå –†–µ–¥–∏—Ä–µ–∫—Ç–æ–≤ –Ω–∞ `/login`

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

#### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
1. –ù–∞–∂–º–∏—Ç–µ "–ù–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç"
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª (.txt –∏–ª–∏ .docx)
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### Backend
- [ ] –í—Å–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] `GET /api/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200
- [ ] `GET /api/documents` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 –∏–ª–∏ []
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ 401/403 –≤ –ª–æ–≥–∞—Ö

### Frontend
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞
- [ ] –ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ —Å Authorization header

### –û–±—â–µ–µ
- [ ] –í—Å–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- [ ] –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: 401 Unauthorized
**–ü—Ä–∏—á–∏–Ω–∞:** –ì–¥–µ-—Ç–æ –æ—Å—Ç–∞–ª—Å—è –∫–æ–¥, —Ç—Ä–µ–±—É—é—â–∏–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `backend/app/api/*.py` - –≤—Å–µ endpoints –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `get_user_id()` –≤–º–µ—Å—Ç–æ `Depends(current_active_user)`

### –ü—Ä–æ–±–ª–µ–º–∞: –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login
**–ü—Ä–∏—á–∏–Ω–∞:** –í —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –æ—Å—Ç–∞–ª—Å—è –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `frontend/src/App.tsx` - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `ProtectedRoute` –∏ —Ä–æ—É—Ç–∞ `/login`

### –ü—Ä–æ–±–ª–µ–º–∞: "user is not defined"
**–ü—Ä–∏—á–∏–Ω–∞:** –ì–¥–µ-—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `user` –∏–∑ `useAuthStore` –Ω–∞–ø—Ä—è–º—É—é
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ `useAuthStore().user` –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **Backend endpoints:** 28 (–≤—Å–µ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
- **Frontend routes:** 5 (–≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ)
- **–£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 4 (auth.py, user.py, user schemas, LoginPage.tsx)
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 11

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
2. ‚úÖ –í—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —Å dummy user ID
3. ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
4. ‚úÖ –ú–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–∞–±–æ—Ç–µ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

---

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
docker-compose logs api
docker-compose logs frontend
```
